<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Dynsimpie by andyphilips</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Dynsimpie</h1>
        <p>Stata module to examine dynamic compositional dependent variables</p>

        <p class="view"><a href="https://github.com/andyphilips/dynsimpie">View the Project on GitHub <small>andyphilips/dynsimpie</small></a></p>


        <ul>
          <li><a href="https://github.com/andyphilips/dynsimpie/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/andyphilips/dynsimpie/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/andyphilips/dynsimpie">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
<a id="dynsimpie" class="anchor" href="#dynsimpie" aria-hidden="true"><span class="octicon octicon-link"></span></a>dynsimpie</h3>

<p>A Stata program to examine dynamic compositional dependent variables.</p>

<h3>
<a id="download" class="anchor" href="#download" aria-hidden="true"><span class="octicon octicon-link"></span></a>Download</h3>

<p>The most current version of <code>dynsimpie</code> is available on this page. The program can also be found on the <a href="http://EconPapers.repec.org/RePEc:boc:bocode:s458074">SSC RePEc archive</a>.</p>

<h3>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h3>

<p><code>dynsimpie</code> is a program to dynamically examine compositional dependent variables, detailed in Philips, Rutherford, and Whitten (2016) and used in Philips, Rutherford, and Whitten (2015). Their modeling strategy uses an error correction model within a seemingly unrelated regression to simulate dynamic changes in each compositional dependent variable in response to a counterfactual "shock" to an independent variable during the simulation. Up to seven dependent variables may be modeled. Following the work of Aitchison (1986), the program first expresses the dependent variables in compositional form using a log-ratio transformation. <code>dynsimpie</code> then models the first differenced series of each compositional ratio as a function of their lag, as well as the lag and first difference of a vector of independent variables. Expected values are calculated, and, since compositional log ratios are not particularly intuitive, these are then "un-transformed" and the predicted average proportion of each dependent variable over time is either graphed and/or saved to a dataset, along with associated confidence intervals.</p>

<h3>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h3>

<p>To use <code>dynsimpie</code>, the user must first download and install the Clarify package by King, Tomz, and Wittenberg (2000) (<code>estsimp</code> and <code>setx</code>).</p>

<h3>
<a id="reference" class="anchor" href="#reference" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reference</h3>

<p>If you use <code>dynsimpie</code>, please cite us:</p>

<p>Philips, Andrew Q., Amanda Rutherford, and Guy D. Whitten. 2016. "DYNSIMPIE: A program to examine dynamic compositional dependent variables." Working Paper.</p>

<p>and</p>

<p>Philips, Andrew Q., Amanda Rutherford, and Guy D. Whitten. 2016. "<a href="http://dx.doi.org/10.1111/ajps.12204">Dynamic pie: A strategy for modeling trade-offs in compositional variables over time</a>." American Journal of Political Science  60(1): 268-283.</p>

<h3>
<a id="authors" class="anchor" href="#authors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors</h3>

<p><a href="http://people.tamu.edu/%7Eaphilips/">Andrew Q. Philips</a>, Texas A&amp;M University, College Station, TX. aphilips [AT] pols.tamu.edu</p>

<p>Amanda Rutherford, Indiana University, Bloomington, IN</p>

<p>Guy D. Whitten, Texas A&amp;M University, College Station, TX</p>

<h3>
<a id="citations" class="anchor" href="#citations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Citations</h3>

<p>Aitchison, John. 1986. The statistical analysis of compositional data. Chapman &amp; Hall, Ltd.</p>

<p>Philips, Andrew Q., Amanda Rutherford, and Guy D. Whitten. 2016. "<a href="http://dx.doi.org/10.1111/ajps.12204">Dynamic pie: A strategy for modeling trade-offs in compositional variables over time</a>." American Journal of Political Science  60(1): 268-283.</p>

<p>Philips, Andrew Q., Amanda Rutherford, and Guy D. Whitten. 2015. "<a href="http://dx.doi.org/10.1016/j.electstud.2015.03.019">The dynamic battle for pieces of pie--Modeling party support in multi-party nations</a>." Electoral Studies 39:264-274.</p>

<p>Tomz, Michael, Jason Wittenberg and Gary King. 2003. "CLARIFY: Software for interpreting and presenting statistical results." Journal of Statistical Software 8(1):1-30.</p>

<h3>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h3>

<p>Open the UK data from Philips, Rutherford, &amp; Whitten (2016), which contains data on the proportion of support for the Conservatives (<code>Con</code>), Liberal Democrats (<code>Ldm</code>), and Labour (<code>Lab</code>), during the New Labour government period.</p>

<pre><code>use UK_AJPS.dta, clear
</code></pre>

<p>a 1 standard deviation increase of labour as best manager of the economy at t = 9 with 90% cis. By specifying the <code>graph</code> option, <code>dynsimpie</code> automatically produces a time-series plot of the simulations. Note that the results from the seemingly unrelated regression equations are also shown.</p>

<pre><code>dynsimpie all_pidW all_LabLeaderEval_W all_ConLeaderEval_W all_LDLeaderEval_W all_nat_retW, ///
 dvs(Lab Con Ldm) t(9) shock(0.054) shockvar(all_b_mii_lab_pct) sig(90) graph
</code></pre>

<p><img src="https://github.com/andyphilips/dynsimpie/blob/gh-pages/figures/graph1a.png" alt="alt text" title="First simulation results"></p>

<p>Alternatively, we can open the dataset that <code>dynsimpie</code> produces and graph the results:</p>

<pre><code>use dynsimpie_results.dta, clear
twoway rspike var1_pie_ul_ var1_pie_ll_ time || rspike var2_pie_ul_ var2_pie_ll_ time ||   ///
 rspike var3_pie_ul_ var3_pie_ll_ time || scatter mid1 time || scatter mid2 time ||        ///
 scatter mid3 time, legend( order(4 "Conservatives" 5 "Lib-Dems" 6 "Labour")) xtitle("Month")     ///
 ytitle("Predicted Proportion of Support")
</code></pre>

<p><img src="https://github.com/andyphilips/dynsimpie/blob/gh-pages/figures/graph1b.png" alt="alt text" title="First simulation results"></p>

<p>a 1 standard deviation increase of survey respondents who think Labour is the best manager of the economy, along with a 1 standard deviation increase in Labour leader evaluations at time t= 18 with range t=45.</p>

<pre><code>dynsimpie all_pidW all_ConLeaderEval_W all_LDLeaderEval_W all_nat_retW ,                  ///
 dvs(Lab Con Ldm) t(18) range(45) shock(0.054) shockvar(all_b_mii_lab_pct)            ///
 shockvar2(all_LabLeaderEval_W) shock2(0.367) nograph
use dynsimpie_results.dta, clear
twoway rspike var1_pie_ul_ var1_pie_ll_ time || rspike var2_pie_ul_ var2_pie_ll_ time ||  ///
 rspike var3_pie_ul_ var3_pie_ll_ time || scatter mid1 time || scatter mid2 time ||       ///
 scatter mid3 time, legend( order(4 "Conservatives" 5 "Lib-Dems" 6 "Labour")) xtitle("Month")    ///
 ytitle("Predicted Proportion of Support")
</code></pre>

<p><img src="https://github.com/andyphilips/dynsimpie/blob/gh-pages/figures/graph2.png" alt="alt text" title="Second simulation results"></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/andyphilips">andyphilips</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-69617401-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
