{"name":"Dynsimpie","tagline":"Stata module to examine dynamic compositional dependent variables","body":"### dynsimpie\r\nA Stata program to examine dynamic compositional dependent variables.\r\n\r\n### Download\r\nThe most current version of `dynsimpie` is available on this page. The program can also be found on the [SSC RePEc archive](http://EconPapers.repec.org/RePEc:boc:bocode:s458074).\r\n\r\n### Description\r\n`dynsimpie` is a program to dynamically examine compositional dependent variables, detailed in Philips, Rutherford, and Whitten (2016) and used in Philips, Rutherford, and Whitten (2015). Their modeling strategy uses an error correction model within a seemingly unrelated regression to simulate dynamic changes in each compositional dependent variable in response to a counterfactual \"shock\" to an independent variable during the simulation. Up to seven dependent variables may be modeled. Following the work of Aitchison (1986), the program first expresses the dependent variables in compositional form using a log-ratio transformation. `dynsimpie` then models the first differenced series of each compositional ratio as a function of their lag, as well as the lag and first difference of a vector of independent variables. Expected values are calculated, and, since compositional log ratios are not particularly intuitive, these are then \"un-transformed\" and the predicted average proportion of each dependent variable over time is either graphed and/or saved to a dataset, along with associated confidence intervals.\r\n\r\n### Requirements\r\n To use `dynsimpie`, the user must first download and install the Clarify package by King, Tomz, and Wittenberg (2000) (`estsimp` and `setx`).\r\n\r\n### Reference\r\nIf you use `dynsimpie`, please cite us:\r\n\r\nPhilips, Andrew Q., Amanda Rutherford, and Guy D. Whitten. 2016. \"DYNSIMPIE: A program to examine dynamic compositional dependent variables.\" Working Paper.\r\n\r\nand\r\n\r\nPhilips, Andrew Q., Amanda Rutherford, and Guy D. Whitten. 2016. \"[Dynamic pie: A strategy for modeling trade-offs in compositional variables over time](http://dx.doi.org/10.1111/ajps.12204).\" American Journal of Political Science  60(1): 268-283.\r\n\r\n### Authors\r\n[Andrew Q. Philips](http://people.tamu.edu/~aphilips/), Texas A&M University, College Station, TX. aphilips [AT] pols.tamu.edu\r\n\r\nAmanda Rutherford, Indiana University, Bloomington, IN\r\n\r\nGuy D. Whitten, Texas A&M University, College Station, TX\r\n\r\n\r\n### Citations\r\nAitchison, John. 1986. The statistical analysis of compositional data. Chapman & Hall, Ltd.\r\n\r\nPhilips, Andrew Q., Amanda Rutherford, and Guy D. Whitten. 2016. \"[Dynamic pie: A strategy for modeling trade-offs in compositional variables over time](http://dx.doi.org/10.1111/ajps.12204).\" American Journal of Political Science  60(1): 268-283.\r\n\r\nPhilips, Andrew Q., Amanda Rutherford, and Guy D. Whitten. 2015. \"[The dynamic battle for pieces of pie--Modeling party support in multi-party nations](http://dx.doi.org/10.1016/j.electstud.2015.03.019).\" Electoral Studies 39:264-274.\r\n\r\nTomz, Michael, Jason Wittenberg and Gary King. 2003. \"CLARIFY: Software for interpreting and presenting statistical results.\" Journal of Statistical Software 8(1):1-30.\r\n\r\n### Examples\r\nOpen the UK data from Philips, Rutherford, & Whitten (2016), which contains data on the proportion of support for the Conservatives (`Con`), Liberal Democrats (`Ldm`), and Labour (`Lab`), during the New Labour government period.\r\n```\r\nuse UK_AJPS.dta, clear\r\n```\r\na 1 standard deviation increase of labour as best manager of the economy at t = 9 with 90% cis. By specifying the `graph` option, `dynsimpie` automatically produces a time-series plot of the simulations. Note that the results from the seemingly unrelated regression equations are also shown.\r\n```\r\ndynsimpie all_pidW all_LabLeaderEval_W all_ConLeaderEval_W all_LDLeaderEval_W all_nat_retW, ///\r\n dvs(Lab Con Ldm) t(9) shock(0.054) shockvar(all_b_mii_lab_pct) sig(90) graph\r\n```\r\n![alt text](https://raw.githubusercontent.com/andyphilips/dynsimpie/gh-pages/figures/graph1a.png \"First simulation results\")\r\n\r\nAlternatively, we can open the dataset that `dynsimpie` produces and graph the results:\r\n```\r\nuse dynsimpie_results.dta, clear\r\ntwoway rspike var1_pie_ul_ var1_pie_ll_ time || rspike var2_pie_ul_ var2_pie_ll_ time ||   ///\r\n rspike var3_pie_ul_ var3_pie_ll_ time || scatter mid1 time || scatter mid2 time ||        ///\r\n scatter mid3 time, legend( order(4 \"Conservatives\" 5 \"Lib-Dems\" 6 \"Labour\")) xtitle(\"Month\")     ///\r\n ytitle(\"Predicted Proportion of Support\")\r\n```\r\n\r\n![alt text](https://raw.githubusercontent.com/andyphilips/dynsimpie/gh-pages/figures/graph1b.png \"First simulation results-alternative\")\r\n\r\na 1 standard deviation increase of survey respondents who think Labour is the best manager of the economy, along with a 1 standard deviation increase in Labour leader evaluations at time t= 18 with range t=45.\r\n```\r\ndynsimpie all_pidW all_ConLeaderEval_W all_LDLeaderEval_W all_nat_retW ,                  ///\r\n dvs(Lab Con Ldm) t(18) range(45) shock(0.054) shockvar(all_b_mii_lab_pct)            ///\r\n shockvar2(all_LabLeaderEval_W) shock2(0.367) nograph\r\nuse dynsimpie_results.dta, clear\r\ntwoway rspike var1_pie_ul_ var1_pie_ll_ time || rspike var2_pie_ul_ var2_pie_ll_ time ||  ///\r\n rspike var3_pie_ul_ var3_pie_ll_ time || scatter mid1 time || scatter mid2 time ||       ///\r\n scatter mid3 time, legend( order(4 \"Conservatives\" 5 \"Lib-Dems\" 6 \"Labour\")) xtitle(\"Month\")    ///\r\n ytitle(\"Predicted Proportion of Support\")\r\n```\r\n\r\n![alt text](https://raw.githubusercontent.com/andyphilips/dynsimpie/gh-pages/figures/graph2.png \"Second simulation results\")\r\n\r\n\r\n","google":"UA-69617401-3","note":"Don't delete this file! It's used internally to help with page regeneration."}